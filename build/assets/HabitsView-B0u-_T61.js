import{c as S,r as m,s as C,K as H,j as e,b as i,T as B,f as F}from"./index-Ba2nAqIV.js";import{P as M}from"./progress-HRdTYnyR.js";import{H as q,M as K}from"./moon-FW6SGLk4.js";import{Z as L}from"./zap-DMXWEiAh.js";import{T as Q}from"./trending-up-CtgTcCAb.js";import{C as Z}from"./circle-check-big-ByHrA43v.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],O=S("circle",G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],u=S("flame",R),ee=()=>{const[p,g]=m.useState(!1),[d,h]=m.useState({mood:3,energy:3,sleepHours:7}),[o,x]=m.useState(()=>C.get(H.habits)||[{id:1,name:"Beber 8 copos de água",icon:"💧",target:8,current:6,streak:12,completedToday:!1,color:"var(--app-blue)",category:"Saúde"},{id:2,name:"Exercitar-se por 30 min",icon:"🏋️",target:1,current:1,streak:5,completedToday:!0,color:"var(--app-green)",category:"Fitness"},{id:3,name:"Meditar por 10 min",icon:"🧘",target:1,current:0,streak:8,completedToday:!1,color:"var(--app-yellow)",category:"Bem-estar"},{id:4,name:"Ler por 30 min",icon:"📚",target:1,current:0,streak:3,completedToday:!1,color:"var(--app-blue)",category:"Educação"}]);m.useEffect(()=>{C.set(H.habits,o)},[o]);const T=()=>{const s=prompt("Nome do hábito");s&&x(a=>[{id:Date.now(),name:s,icon:"✅",target:1,current:0,streak:0,completedToday:!1,color:"var(--app-blue)",category:"Geral"},...a])},E=s=>{const a=o.find(r=>r.id===s);if(!a)return;const c=prompt("Editar nome",a.name)||a.name;x(r=>r.map(n=>n.id===s?{...n,name:c}:n))},z=s=>{confirm("Excluir hábito?")&&x(a=>a.filter(c=>c.id!==s))},D=s=>{x(o.map(a=>{if(a.id===s){const c=a.completedToday?Math.max(0,a.current-1):Math.min(a.target,a.current+1);return{...a,current:c,completedToday:c>=a.target}}return a}))},I=async()=>{try{await F.createCheckin({habitId:"daily",date:new Date().toISOString(),mood:d.mood,energy:d.energy,sleepHours:d.sleepHours}),g(!1)}catch(s){console.error("Error submitting checkin:",s)}},j=o.filter(s=>s.completedToday).length,y=o.length,v=Math.round(j/y*100),N=m.useMemo(()=>{const a=Array.from({length:7}).map((r,n)=>({day:n,habitsScore:Math.round(50+Math.random()*50),productivity:Math.round(40+Math.random()*60)})),c=(()=>{const r=a.map(t=>t.habitsScore),n=a.map(t=>t.productivity),b=t=>t.reduce((l,A)=>l+A,0)/t.length,w=b(r),k=b(n),_=r.map((t,l)=>(t-w)*(n[l]-k)).reduce((t,l)=>t+l,0),$=Math.sqrt(r.map(t=>(t-w)**2).reduce((t,l)=>t+l,0)*n.map(t=>(t-k)**2).reduce((t,l)=>t+l,0))||1;return+(_/$).toFixed(2)})();return{data:a,corr:c}},[o]),P=["S","T","Q","Q","S","S","D"],f=new Date().getDay();return e.jsxs("div",{className:"flex flex-col space-y-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Hábitos"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"text-orange-500",size:20}),e.jsx("span",{className:"font-semibold text-gray-900",children:"8 dias"}),e.jsx("button",{onClick:T,className:"ml-2 px-3 py-1 rounded-lg bg-[var(--app-blue)] text-white text-sm",children:"Novo"})]})]}),e.jsxs(i,{className:"p-6 bg-white rounded-2xl border-0 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Check-in Diário"}),e.jsx("button",{onClick:()=>g(!p),className:"px-3 py-1 bg-[var(--app-blue)] text-white rounded-lg text-sm",children:p?"Cancelar":"Abrir"})]}),p&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 mb-2",children:[e.jsx(q,{size:16}),e.jsx("span",{children:"Humor (1-5)"})]}),e.jsx("input",{type:"range",min:"1",max:"5",value:d.mood,onChange:s=>h(a=>({...a,mood:parseInt(s.target.value)})),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"😞"}),e.jsx("span",{children:"😐"}),e.jsx("span",{children:"😊"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 mb-2",children:[e.jsx(L,{size:16}),e.jsx("span",{children:"Energia (1-5)"})]}),e.jsx("input",{type:"range",min:"1",max:"5",value:d.energy,onChange:s=>h(a=>({...a,energy:parseInt(s.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 mb-2",children:[e.jsx(K,{size:16}),e.jsx("span",{children:"Horas de sono"})]}),e.jsx("input",{type:"number",min:"0",max:"12",value:d.sleepHours,onChange:s=>h(a=>({...a,sleepHours:parseInt(s.target.value)||0})),className:"w-full p-2 border rounded-lg"})]}),e.jsx("button",{onClick:I,className:"w-full py-2 bg-[var(--app-green)] text-white rounded-lg",children:"Enviar Check-in"})]})]}),e.jsxs(i,{className:"p-6 bg-white rounded-2xl border-0 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Progresso de Hoje"}),e.jsxs("p",{className:"text-sm text-[var(--app-gray)]",children:[j," de ",y," hábitos concluídos"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-[var(--app-green)]",children:[v,"%"]}),e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-[var(--app-gray)]",children:[e.jsx(Q,{size:14}),e.jsx("span",{children:"+5% vs ontem"})]})]})]}),e.jsx(M,{value:v,className:"h-3"})]}),e.jsxs(i,{className:"p-6 bg-white rounded-2xl border-0 shadow-sm",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Hábitos x Produtividade"}),e.jsxs("p",{className:"text-sm text-[var(--app-gray)] mb-3",children:["Correlação (mock): ",N.corr]}),e.jsx("div",{className:"grid grid-cols-7 gap-2 text-center",children:N.data.map((s,a)=>e.jsxs("div",{className:"text-xs",children:[e.jsxs("div",{className:"h-12 bg-[var(--app-blue)]15 rounded",style:{height:48},children:[e.jsx("div",{className:"h-2 bg-[var(--app-green)] rounded",style:{width:`${s.habitsScore}%`}}),e.jsx("div",{className:"h-2 bg-[var(--app-purple)] rounded mt-1",style:{width:`${s.productivity}%`}})]}),e.jsxs("div",{className:"text-[10px] text-[var(--app-gray)] mt-1",children:["D",a+1]})]},a))})]}),e.jsxs(i,{className:"p-6 bg-white rounded-2xl border-0 shadow-sm",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Esta Semana"}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:P.map((s,a)=>{const c=a===f,r=a<f;return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-[var(--app-gray)] mb-2",children:s}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium ${c?"bg-[var(--app-blue)] text-white":r?"bg-[var(--app-green)] text-white":"bg-gray-100 text-[var(--app-gray)]"}`,children:r?"✓":a+1})]},a)})})]}),e.jsx("div",{className:"space-y-4",children:o.map(s=>e.jsx(i,{className:"p-4 bg-white rounded-2xl border-0 shadow-sm",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-xl",style:{backgroundColor:`${s.color}15`},children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsx("span",{className:"text-sm text-[var(--app-gray)]",children:s.category}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(u,{size:12,className:"text-orange-500"}),e.jsxs("span",{className:"text-xs text-[var(--app-gray)]",children:[s.streak," dias"]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"text-xs text-[var(--app-gray)]",children:[s.current,"/",s.target," ",s.target>1?"concluído":"feito"]}),e.jsxs("span",{className:"text-xs text-[var(--app-gray)]",children:[Math.round(s.current/s.target*100),"%"]})]}),e.jsx(M,{value:s.current/s.target*100,className:"h-2",style:{"--progress-foreground":s.color}})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D(s.id),className:"flex-shrink-0",children:s.completedToday?e.jsx(Z,{size:24,style:{color:s.color}}):e.jsx(O,{size:24,className:"text-gray-300"})}),e.jsx("button",{onClick:()=>E(s.id),className:"px-3 py-1 rounded-lg text-sm bg-[var(--app-light-gray)]",children:"Editar"}),e.jsx("button",{onClick:()=>z(s.id),className:"px-3 py-1 rounded-lg text-sm bg-[var(--app-red)] text-white",children:"Excluir"})]})]})},s.id))}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(i,{className:"p-4 bg-white rounded-2xl border-0 shadow-sm text-center",children:[e.jsx(B,{size:24,className:"mx-auto mb-2 text-[var(--app-blue)]"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"4"}),e.jsx("div",{className:"text-sm text-[var(--app-gray)]",children:"Hábitos ativos"})]}),e.jsxs(i,{className:"p-4 bg-white rounded-2xl border-0 shadow-sm text-center",children:[e.jsx(u,{size:24,className:"mx-auto mb-2 text-orange-500"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"12"}),e.jsx("div",{className:"text-sm text-[var(--app-gray)]",children:"Maior sequência"})]})]})]})};export{ee as default};
