import{r as c,s as x,K as u,j as e,b as o,T as $,h as v}from"./index-Ba2nAqIV.js";import{P as D}from"./progress-HRdTYnyR.js";import{i as L}from"./subscription-BGN-kni7.js";import{T as M}from"./trending-up-CtgTcCAb.js";import{T as E}from"./trending-down-Da8Gd70N.js";import{C as P}from"./circle-alert-C-b7MU9H.js";const z=()=>{const[j,b]=c.useState("month"),n={balance:3250.5,monthlyIncome:5e3,monthlyExpenses:3180.25,savings:1819.75,savingsGoal:2e3},[d,A]=c.useState(()=>x.get(u.transactions)||[{id:1,title:"Salário",amount:5e3,type:"income",category:"Trabalho",date:"2025-08-25",icon:"💰",color:"var(--app-green)"},{id:2,title:"Supermercado",amount:-180.5,type:"expense",category:"Alimentação",date:"2025-08-26",icon:"🛒",color:"var(--app-red)"},{id:3,title:"Combustível",amount:-120,type:"expense",category:"Transporte",date:"2025-08-26",icon:"⛽",color:"var(--app-red)"},{id:4,title:"Freelance",amount:800,type:"income",category:"Trabalho",date:"2025-08-24",icon:"💻",color:"var(--app-green)"},{id:5,title:"Netflix",amount:-29.9,type:"expense",category:"Entretenimento",date:"2025-08-23",icon:"📺",color:"var(--app-red)"}]),[m,N]=c.useState(()=>x.get(u.bills)||[{id:1,name:"Aluguel",amount:1200,dueDate:"2025-08-30",status:"pending",icon:"🏠",category:"Moradia"},{id:2,name:"Energia Elétrica",amount:180.5,dueDate:"2025-08-28",status:"paid",icon:"⚡",category:"Utilidades"},{id:3,name:"Internet",amount:79.9,dueDate:"2025-08-29",status:"overdue",icon:"🌐",category:"Utilidades"},{id:4,name:"Cartão de Crédito",amount:450.3,dueDate:"2025-09-05",status:"pending",icon:"💳",category:"Cartão"}]),[p,f]=c.useState(()=>x.get(u.receivables)||[{id:1,name:"Cliente ACME",amount:1200,dueDate:"2025-09-02",status:"pending",icon:"💼",category:"Serviços"}]);c.useEffect(()=>{x.set(u.transactions,d)},[d]),c.useEffect(()=>{x.set(u.bills,m)},[m]),c.useEffect(()=>{x.set(u.receivables,p)},[p]);const R=()=>{const t=prompt("Descrição da conta"),r=parseFloat(prompt("Valor")||"0"),a=prompt("Vencimento (YYYY-MM-DD)")||new Date().toISOString().slice(0,10);!t||isNaN(r)||N(i=>[{id:Date.now(),name:t,amount:r,dueDate:a,status:"pending",icon:"🧾",category:"Outros"},...i])},S=()=>{const t=prompt("Descrição do recebível"),r=parseFloat(prompt("Valor")||"0"),a=prompt("Vencimento (YYYY-MM-DD)")||new Date().toISOString().slice(0,10);!t||isNaN(r)||f(i=>[{id:Date.now(),name:t,amount:r,dueDate:a,status:"pending",icon:"💼",category:"Outros"},...i])},B=(t,r)=>{N(a=>a.map(i=>i.id===t?{...i,status:r}:i))},g=c.useMemo(()=>{const t=d.filter(s=>s.type==="income").reduce((s,l)=>s+l.amount,0),r=d.filter(s=>s.type==="expense").reduce((s,l)=>s+Math.abs(l.amount),0),a=m.filter(s=>s.status!=="paid").reduce((s,l)=>s+l.amount,0),i=p.filter(s=>s.status!=="received").reduce((s,l)=>s+l.amount,0);return{incomes:t,expenses:r,payables:a,receivs:i,balance:t-r}},[d,m,p]),C=[{name:"Alimentação",spent:420.5,budget:600,color:"var(--app-red)",icon:"🍽️"},{name:"Transporte",spent:280,budget:400,color:"var(--app-blue)",icon:"🚗"},{name:"Entretenimento",spent:150.9,budget:300,color:"var(--app-purple)",icon:"🎬"},{name:"Saúde",spent:120,budget:200,color:"var(--app-green)",icon:"🏥"}],y=t=>{switch(t){case"paid":return"var(--app-green)";case"pending":return"var(--app-yellow)";case"overdue":return"var(--app-red)";default:return"var(--app-gray)"}},F=t=>{switch(t){case"paid":return"Pago";case"pending":return"Pendente";case"overdue":return"Atrasado";default:return"Desconhecido"}},w=n.savings/n.savingsGoal*100,h=L();return e.jsxs("div",{className:"flex flex-col space-y-6 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-[var(--app-text)]",children:"Finanças"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>b("week"),className:`px-3 py-1 rounded-lg text-sm transition-colors ${j==="week"?"bg-[var(--app-blue)] text-white":"bg-[var(--app-light-gray)] text-[var(--app-gray)]"}`,children:"Semana"}),e.jsx("button",{onClick:()=>b("month"),className:`px-3 py-1 rounded-lg text-sm transition-colors ${j==="month"?"bg-[var(--app-blue)] text-white":"bg-[var(--app-light-gray)] text-[var(--app-gray)]"}`,children:"Mês"})]})]}),e.jsxs(o,{className:"p-6 bg-gradient-to-r from-[var(--app-blue)] to-[var(--app-purple)] rounded-2xl border-0 shadow-lg text-white",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("p",{className:"text-white/80 mb-1",children:"Saldo Atual"}),e.jsxs("h2",{className:"text-3xl font-bold",children:["R$ ",n.balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(M,{size:16,className:"mr-1"}),e.jsx("span",{className:"text-sm text-white/80",children:"Entradas"})]}),e.jsxs("p",{className:"font-semibold",children:["R$ ",n.monthlyIncome.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(E,{size:16,className:"mr-1"}),e.jsx("span",{className:"text-sm text-white/80",children:"Saídas"})]}),e.jsxs("p",{className:"font-semibold",children:["R$ ",n.monthlyExpenses.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs(o,{className:"p-6 bg-[var(--app-card)] rounded-2xl border-0 shadow-sm",ribbon:h?void 0:e.jsx("span",{className:"px-2 py-1 rounded bg-[var(--app-yellow)] text-white text-[10px]",children:"Premium"}),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{size:20,className:"text-[var(--app-green)]"}),e.jsx("h3",{className:"font-medium text-[var(--app-text)]",children:"Meta de Economia"})]}),e.jsxs("span",{className:"text-sm text-[var(--app-text-light)]",children:[Math.round(w),"%"]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-[var(--app-text-light)]",children:["R$ ",n.savings.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("span",{className:"text-sm text-[var(--app-text-light)]",children:["R$ ",n.savingsGoal.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsx(D,{value:w,className:"h-3"})]}),h?e.jsxs("p",{className:"text-xs text-[var(--app-text-light)]",children:["Faltam R$ ",(n.savingsGoal-n.savings).toLocaleString("pt-BR",{minimumFractionDigits:2})," para sua meta"]}):e.jsx("div",{className:"text-xs text-[var(--app-text)] p-3 rounded-lg bg-[var(--app-yellow)]10",children:"Recurso Premium — faça upgrade para ver metas completas."})]}),e.jsxs(o,{className:"p-6 bg-[var(--app-card)] rounded-2xl border-0 shadow-sm",ribbon:h?void 0:e.jsx("span",{className:"px-2 py-1 rounded bg-[var(--app-yellow)] text-white text-[10px]",children:"Premium"}),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-[var(--app-text)]",children:"Contas a Pagar"}),e.jsxs(v,{variant:"secondary",className:"bg-[var(--app-red)]15 text-[var(--app-red)]",children:[m.filter(t=>t.status!=="paid").length," pendentes"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:R,className:"px-3 py-1 rounded-lg bg-[var(--app-blue)] text-white text-sm",children:"Adicionar conta"}),m.map(t=>e.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-xl bg-[var(--app-light-gray)]",children:[e.jsx("div",{className:"text-2xl",children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-[var(--app-text)]",children:t.name}),e.jsxs("p",{className:"text-sm text-[var(--app-text-light)]",children:["Vence em ",new Date(t.dueDate).toLocaleDateString("pt-BR")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-[var(--app-text)]",children:["R$ ",t.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"flex items-center space-x-2 justify-end mt-1",children:[e.jsx(v,{className:"text-xs",style:{backgroundColor:`${y(t.status)}15`,color:y(t.status)},children:F(t.status)}),e.jsx("button",{onClick:()=>B(t.id,"paid"),className:"px-2 py-1 text-xs rounded bg-[var(--app-green)] text-white",children:"Marcar pago"})]})]})]},t.id))]})]}),e.jsxs(o,{className:"p-6 bg-[var(--app-card)] rounded-2xl border-0 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-[var(--app-text)]",children:"A Receber"}),e.jsxs(v,{variant:"secondary",className:"bg-[var(--app-blue)]15 text-[var(--app-blue)]",children:[p.filter(t=>t.status!=="received").length," pendentes"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:S,className:"px-3 py-1 rounded-lg bg-[var(--app-blue)] text-white text-sm",children:"Adicionar recebível"}),p.map(t=>e.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-xl bg-[var(--app-light-gray)]",children:[e.jsx("div",{className:"text-2xl",children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-[var(--app-text)]",children:t.name}),e.jsxs("p",{className:"text-sm text-[var(--app-text-light)]",children:["Vence em ",new Date(t.dueDate).toLocaleDateString("pt-BR")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-[var(--app-text)]",children:["R$ ",t.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"flex items-center space-x-2 justify-end mt-1",children:[e.jsx(v,{className:"text-xs",style:{backgroundColor:"var(--app-blue)15",color:"var(--app-blue)"},children:"Pendente"}),e.jsx("button",{onClick:()=>f(r=>r.map(a=>a.id===t.id?{...a,status:"received"}:a)),className:"px-2 py-1 text-xs rounded bg-[var(--app-green)] text-white",children:"Marcar recebido"})]})]})]},t.id))]})]}),e.jsxs(o,{className:"p-6 bg-[var(--app-card)] rounded-2xl border-0 shadow-sm",children:[e.jsx("h3",{className:"font-medium text-[var(--app-text)] mb-2",children:"Resumo do Mês"}),h?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 rounded bg-[var(--app-green)]15 text-[var(--app-green)]",children:["Entradas: R$ ",g.incomes.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"p-3 rounded bg-[var(--app-red)]15 text-[var(--app-red)]",children:["Saídas: R$ ",g.expenses.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"p-3 rounded bg-[var(--app-yellow)]15 text-[var(--app-yellow)]",children:["A pagar: R$ ",g.payables.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"p-3 rounded bg-[var(--app-blue)]15 text-[var(--app-blue)]",children:["A receber: R$ ",g.receivs.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"mt-3 text-sm text-[var(--app-text)]",children:["Saldo: R$ ",g.balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}):e.jsxs("div",{className:"p-3 rounded-lg bg-[var(--app-yellow)]10 text-[var(--app-text)] text-sm flex items-center justify-between",children:[e.jsx("span",{children:"Relatórios avançados são Premium."}),e.jsx("button",{className:"px-3 py-1 rounded bg-[var(--app-blue)] text-white text-xs",onClick:()=>alert("Abra Configurações para assinar."),children:"Upgrade"})]})]}),e.jsxs(o,{className:"p-6 bg-[var(--app-card)] rounded-2xl border-0 shadow-sm",children:[e.jsx("h3",{className:"font-medium text-[var(--app-text)] mb-4",children:"Orçamento por Categoria"}),h?e.jsx("div",{className:"space-y-4",children:C.map((t,r)=>{const a=t.spent/t.budget*100,i=a>100;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:t.icon}),e.jsx("span",{className:"text-sm font-medium text-[var(--app-text)]",children:t.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:`text-sm font-medium ${i?"text-[var(--app-red)]":"text-[var(--app-text)]"}`,children:["R$ ",t.spent.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("span",{className:"text-xs text-[var(--app-text-light)]",children:[" / R$ ",t.budget.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),e.jsx(D,{value:Math.min(a,100),className:"h-2",style:{"--progress-foreground":i?"var(--app-red)":t.color}}),i&&e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx(P,{size:12,className:"text-[var(--app-red)]"}),e.jsxs("span",{className:"text-xs text-[var(--app-red)]",children:[Math.round(a-100),"% acima do orçamento"]})]})]},r)})}):e.jsx("div",{className:"p-3 rounded-lg bg-[var(--app-yellow)]10 text-[var(--app-text)] text-sm",children:"Relatórios e orçamento detalhados são Premium. Faça upgrade em Configurações."})]}),e.jsxs(o,{className:"p-6 bg-[var(--app-card)] rounded-2xl border-0 shadow-sm",children:[e.jsx("h3",{className:"font-medium text-[var(--app-text)] mb-4",children:"Transações Recentes"}),e.jsx("div",{className:"space-y-3",children:d.slice(0,5).map(t=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:`${t.color}15`},children:e.jsx("span",{className:"text-lg",children:t.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-[var(--app-text)]",children:t.title}),e.jsxs("p",{className:"text-sm text-[var(--app-text-light)]",children:[t.category," • ",new Date(t.date).toLocaleDateString("pt-BR")]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:`font-semibold ${t.type==="income"?"text-[var(--app-green)]":"text-[var(--app-red)]"}`,children:[t.type==="income"?"+":"","R$ ",Math.abs(t.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]},t.id))})]})]})};export{z as default};
