import{c as u,r as o,f as d,j as t,k as w,F as m,b as C,h}from"./index-Ba2nAqIV.js";import{I as g}from"./input-D-_OTbC7.js";import{E as S}from"./empty-state-lsoaZSXA.js";import{M as v}from"./mic-t3Ok-GHv.js";import{S as k}from"./star-DKVL3ZfL.js";import{P as z}from"./plus-DPR9NF9E.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],I=u("archive",L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],f=u("camera",E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],T=u("tag",F),B=()=>{const[r,c]=o.useState(""),[n,y]=o.useState("all"),[l,i]=o.useState([{id:1,title:"Ideias para o Projeto",content:"Lista de funcionalidades para implementar no próximo sprint. Incluir sistema de notificações push e melhorar UX.",type:"text",tags:["trabalho","desenvolvimento"],favorite:!0,date:"2025-08-26",color:"var(--app-blue)"},{id:2,title:"Reunião com Cliente",content:"Principais pontos discutidos: orçamento aprovado, prazo de entrega 15/09, revisar wireframes.",type:"text",tags:["reunião","cliente"],favorite:!1,date:"2025-08-25",color:"var(--app-green)"},{id:3,title:"Lista de Compras",content:"Leite, pão, ovos, frutas, arroz integral, azeite, queijo, iorgurte natural.",type:"text",tags:["pessoal","compras"],favorite:!1,date:"2025-08-26",color:"var(--app-yellow)"},{id:4,title:"Áudio - Lembrete",content:"Não esquecer de ligar para o dentista amanhã para remarcar consulta.",type:"audio",tags:["pessoal","saúde"],favorite:!1,date:"2025-08-24",color:"var(--app-purple)",duration:"0:45"},{id:5,title:"Receita Bolo de Chocolate",content:"Foto da receita da vovó. Ingredientes especiais: chocolate meio amargo e café.",type:"image",tags:["culinária","família"],favorite:!0,date:"2025-08-23",color:"var(--app-red)"},{id:6,title:"Livros para Ler",content:"Atomic Habits, Mindset, The Lean Startup, Clean Code, Thinking Fast and Slow.",type:"text",tags:["educação","livros"],favorite:!1,date:"2025-08-22",color:"var(--app-blue)"}]);o.useEffect(()=>{(async()=>{try{const e=await d.listNotes();i(e.map(a=>({id:a._id,title:a.title,content:a.content,type:"text",tags:a.tags||[],favorite:!1,date:new Date().toISOString(),color:"var(--app-blue)"})))}catch{}})()},[]),o.useEffect(()=>{try{const e=localStorage.getItem("notes");e&&i(JSON.parse(e))}catch{}},[]),o.useEffect(()=>{try{localStorage.setItem("notes",JSON.stringify(l))}catch{}},[l]);const b=[{id:"all",label:"Todas",count:l.length},{id:"favorites",label:"Favoritas",count:l.filter(e=>e.favorite).length},{id:"text",label:"Texto",count:l.filter(e=>e.type==="text").length},{id:"audio",label:"Áudio",count:l.filter(e=>e.type==="audio").length},{id:"image",label:"Imagem",count:l.filter(e=>e.type==="image").length}],p=()=>{let e=l;return n!=="all"&&(n==="favorites"?e=e.filter(a=>a.favorite):e=e.filter(a=>a.type===n)),r&&(e=e.filter(a=>a.title.toLowerCase().includes(r.toLowerCase())||a.content.toLowerCase().includes(r.toLowerCase())||a.tags.some(s=>s.toLowerCase().includes(r.toLowerCase())))),e},j=e=>{switch(e){case"audio":return t.jsx(v,{size:16});case"image":return t.jsx(f,{size:16});default:return t.jsx(m,{size:16})}},N=(e,a=100)=>e.length>a?e.substring(0,a)+"...":e;return t.jsxs("div",{className:"flex flex-col space-y-6 pb-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-semibold text-[var(--app-text)]",children:"Notas"}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("button",{className:"p-2 rounded-xl bg-[var(--app-light-gray)] text-[var(--app-gray)] hover:bg-[var(--app-dark-gray)] transition-colors",children:t.jsx(I,{size:20})})})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(g,{type:"text",placeholder:"Nova nota...",value:r,onChange:e=>c(e.target.value),className:"flex-1 bg-[var(--app-light-gray)] border-0 rounded-2xl h-12"}),t.jsx("button",{onClick:async()=>{const e=r.trim();if(e)try{const a=await d.createNote({title:e,content:""});i(s=>[{id:a._id,title:a.title,content:a.content,type:"text",tags:[],favorite:!1,date:new Date().toISOString(),color:"var(--app-blue)"},...s]),c("")}catch{i(a=>[{id:Date.now(),title:e,content:"",type:"text",tags:[],favorite:!1,date:new Date().toISOString(),color:"var(--app-blue)"},...a]),c("")}},className:"px-4 h-12 rounded-2xl bg-[var(--app-blue)] text-white",children:"Adicionar"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(w,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[var(--app-gray)]"}),t.jsx(g,{type:"text",placeholder:"Buscar notas...",value:r,onChange:e=>c(e.target.value),className:"pl-10 bg-[var(--app-light-gray)] border-0 rounded-2xl h-12"})]}),t.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:b.map(e=>t.jsxs("button",{onClick:()=>y(e.id),className:`flex-shrink-0 px-4 py-2 rounded-xl text-sm font-medium transition-all ${n===e.id?"bg-[var(--app-blue)] text-white shadow-lg":"bg-[var(--app-light-gray)] text-[var(--app-text)] hover:bg-[var(--app-dark-gray)]"}`,children:[e.label," (",e.count,")"]},e.id))}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("button",{className:"flex flex-col items-center space-y-2 p-4 bg-[var(--app-blue)]15 rounded-2xl hover:bg-[var(--app-blue)]20 transition-colors",children:[t.jsx(m,{size:24,style:{color:"var(--app-blue)"}}),t.jsx("span",{className:"text-sm font-medium text-[var(--app-text)]",children:"Texto"})]}),t.jsxs("button",{className:"flex flex-col items-center space-y-2 p-4 bg-[var(--app-green)]15 rounded-2xl hover:bg-[var(--app-green)]20 transition-colors",children:[t.jsx(v,{size:24,style:{color:"var(--app-green)"}}),t.jsx("span",{className:"text-sm font-medium text-[var(--app-text)]",children:"Áudio"})]}),t.jsxs("button",{className:"flex flex-col items-center space-y-2 p-4 bg-[var(--app-yellow)]15 rounded-2xl hover:bg-[var(--app-yellow)]20 transition-colors",children:[t.jsx(f,{size:24,style:{color:"var(--app-yellow)"}}),t.jsx("span",{className:"text-sm font-medium text-[var(--app-text)]",children:"Foto"})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4",children:p().length===0?t.jsx(S,{title:"Sem notas",description:"Crie uma nota para começar"}):p().map(e=>t.jsxs(C,{className:"p-4 bg-[var(--app-card)] rounded-2xl border-0 shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:`${e.color}15`},children:t.jsx("div",{style:{color:e.color},children:j(e.type)})}),t.jsx("h3",{className:"font-medium text-[var(--app-text)] line-clamp-1",children:e.title})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[e.favorite&&t.jsx(k,{size:16,className:"text-[var(--app-yellow)] fill-current"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"text-xs px-2 py-1 rounded-lg bg-[var(--app-light-gray)]",onClick:async()=>{const a=prompt("Editar título",e.title);if(a){try{await d.updateNote(String(e.id),{title:a})}catch{}i(s=>s.map(x=>x.id===e.id?{...x,title:a}:x))}},children:"Editar"}),t.jsx("button",{className:"text-xs px-2 py-1 rounded-lg bg-[var(--app-red)] text-white",onClick:async()=>{try{await d.deleteNote(String(e.id))}catch{}i(a=>a.filter(s=>s.id!==e.id))},children:"Excluir"})]})]})]}),t.jsx("p",{className:"text-sm text-[var(--app-text-light)] mb-3 line-clamp-3",children:N(e.content)}),e.type==="audio"&&e.duration&&t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx("div",{className:"w-32 h-2 bg-[var(--app-light-gray)] rounded-full",children:t.jsx("div",{className:"h-2 rounded-full",style:{backgroundColor:e.color,width:"60%"}})}),t.jsx("span",{className:"text-xs text-[var(--app-text-light)]",children:e.duration})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,2).map((a,s)=>t.jsxs(h,{variant:"secondary",className:"text-xs px-2 py-1 rounded-full bg-[var(--app-light-gray)] text-[var(--app-text-light)]",children:[t.jsx(T,{size:10,className:"mr-1"}),a]},s)),e.tags.length>2&&t.jsxs(h,{variant:"secondary",className:"text-xs px-2 py-1 rounded-full bg-[var(--app-light-gray)] text-[var(--app-text-light)]",children:["+",e.tags.length-2]})]}),t.jsx("span",{className:"text-xs text-[var(--app-text-light)]",children:new Date(e.date).toLocaleDateString("pt-BR")})]})]},e.id))}),p().length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(m,{size:48,className:"mx-auto mb-4 text-[var(--app-gray)]"}),t.jsx("h3",{className:"font-medium text-[var(--app-text)] mb-2",children:"Nenhuma nota encontrada"}),t.jsx("p",{className:"text-sm text-[var(--app-text-light)] mb-4",children:r?"Tente ajustar sua busca":"Comece criando sua primeira nota"}),t.jsxs("button",{className:"flex items-center space-x-2 mx-auto px-4 py-2 bg-[var(--app-blue)] text-white rounded-xl hover:bg-blue-600 transition-colors",children:[t.jsx(z,{size:16}),t.jsx("span",{children:"Nova Nota"})]})]})]})};export{B as default};
